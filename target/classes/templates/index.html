<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="#{title.university}">University Info</title>
    <link rel="stylesheet" href="/css/main.css">
</head>
<body>

    <header>
        <nav class="navbar">
            <a href="/" class="logo" th:text="#{nav.logo}">–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç</a>
            <ul class="nav-links">
                <li><a href="/" th:text="#{nav.home}">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="/students" th:text="#{nav.students}">–°—Ç—É–¥–µ–Ω—Ç—ã</a></li>
                <li><a href="/courses" th:text="#{nav.courses}">–ö—É—Ä—Å—ã</a></li>
                <li><a href="/teachers" th:text="#{nav.teachers}">–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏</a></li>
                <li><a href="/reports" th:text="#{nav.reports}">–û—Ç—á—ë—Ç—ã</a></li>
                <li><a href="/profile" th:text="#{nav.profile}">–ü—Ä–æ—Ñ–∏–ª—å</a></li>
            </ul>
        </nav>
        <div style="margin-left: auto;">
    <a th:href="@{/change-lang(lang='ru')}" >üá∑üá∫ –†—É—Å</a> |
<a th:href="@{/change-lang(lang='en')}" >üá¨üáß Eng</a>


</div>

    </header>

    <main>
        <h1 th:text="#{students.title}">–°–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</h1>

        <p th:text="${message}" style="color: green;"></p>

        <table border="1">
            <tr>
                <th th:text="#{student.id}">ID</th>
                <th th:text="#{student.name}">–ò–º—è</th>
                <th th:text="#{student.email}">Email</th>
                <th th:text="#{student.group}">–ì—Ä—É–ø–ø–∞</th>
                <th th:text="#{student.grade}">–û—Ü–µ–Ω–∫–∞</th>
                <th th:text="#{student.actions}">–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
            <tr th:each="student : ${students}">
                <td th:text="${student.id}"></td>
                <td th:text="${student.name}"></td>
                <td th:text="${student.email}"></td>
                <td th:text="${student.groupName}"></td>
                <td th:text="${student.grade}"></td>
                <td>
                    <span th:if="${isAdmin}">
                        <a th:href="@{'/students/delete/' + ${student.id}}"
                           onclick="return confirm(/*[[#{student.confirmDelete}]]*/'–£–¥–∞–ª–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞?')" 
                           class="button-red" 
                           th:text="#{student.delete}">–£–¥–∞–ª–∏—Ç—å</a>
                    </span>
                </td>
            </tr>
        </table>

        <span th:if="${isAdmin}">
            <h2 th:text="#{student.add}">–î–æ–±–∞–≤–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞</h2>
            <form th:action="@{/students}" th:object="${student}" method="post">
                <input type="text" th:field="*{name}" th:placeholder="#{student.name}" required />
                <input type="email" th:field="*{email}" th:placeholder="#{student.email}" required />
                <input type="text" th:field="*{groupName}" th:placeholder="#{student.group}" />
                <input type="text" th:field="*{grade}" th:placeholder="#{student.grade}" />


                <button type="submit" th:text="#{button.save}">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </form>

            <h2 th:text="#{student.importExcel}">–ò–º–ø–æ—Ä—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏–∑ Excel</h2>
            <form th:action="@{/students/import/excel}" method="post" enctype="multipart/form-data">
                <input type="file" name="file" accept=".xlsx" required/>
                <button type="submit" th:text="#{button.uploadFile}">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª</button>
            </form>

            <h2 th:text="#{student.exportExcel}">–≠–∫—Å–ø–æ—Ä—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≤ Excel</h2>
            <form th:action="@{/students/export/excel}" method="get">
                <button type="submit" th:text="#{button.downloadExcel}">–°–∫–∞—á–∞—Ç—å Excel</button>
            </form>
        </span>
    </main>

</body>
</html>
